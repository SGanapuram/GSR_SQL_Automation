SET QUOTED_IDENTIFIER OFF
GO
SET ANSI_NULLS ON
GO
 
CREATE view [dbo].[v_parcel_all_rs]
(
	oid,
	type,
	associative_state,
	status,
	reference,
	sch_qty,
	sch_qty_uom_code,
	location_code,
	facility_code,
	tank_code,
	cmdty_code,
	product_code,
	grade,
	quality,
	mot_type_code,
	estimated_date,
	sch_from_date,
	sch_to_date,
	creator_init,
	creation_date,
	last_update_by_init,
	last_update_date,
	forecast_num,
	trade_num,
	order_num,
	item_num,
	inv_num,
	shipment_num,
	alloc_num,
	alloc_item_num,
	nomin_qty,
	nomin_qty_uom_code,
	cmnt_num,
	t4_loc,
	t4_consignee,
	t4_tankage,
	gn_taric_code,
	custom_code,
	tariff_code,
	custom_status,
	excise_status,
	transmitall_type,
	inspector,
	latest_feed_name,
	send_to_sap,
	bookco_bank_acct_num,
	real_port_num,
	int_value,
	float_value,
	string_value,
	date_sent_to_al,
	resp_trans_id,
	trans_id,
	trans_type,
	trans_user_init,
	tran_date,
	app_name,
	workstation_id,
	sequence
)
as
select
	par.oid,
	par.type,
	par.associative_state,
	par.status,
	par.reference,
	par.sch_qty,
	par.sch_qty_uom_code,
	par.location_code,
	par.facility_code,
	par.tank_code,
	par.cmdty_code,
	par.product_code,
	par.grade,
	par.quality,
	par.mot_type_code,
	par.estimated_date,
	par.sch_from_date,
	par.sch_to_date,
	par.creator_init,
	par.creation_date,
	par.last_update_by_init,
	par.last_update_date,
	par.forecast_num,
	par.trade_num,
	par.order_num,
	par.item_num,
	par.inv_num,
	par.shipment_num,
	par.alloc_num,
	par.alloc_item_num,
	par.nomin_qty,
	par.nomin_qty_uom_code,
	par.cmnt_num,
	par.t4_loc,
	par.t4_consignee,
	par.t4_tankage,
	par.gn_taric_code,
	par.custom_code,
	par.tariff_code,
	par.custom_status,
	par.excise_status,
	par.transmitall_type,
	par.inspector,
	par.latest_feed_name,
	par.send_to_sap,
	par.bookco_bank_acct_num,
	par.real_port_num,
	par.int_value,
	par.float_value,
	par.string_value,
	par.date_sent_to_al,
	null,
	par.trans_id,
	it.type,
	it.user_init,
	it.tran_date,
	it.app_name,
	it.workstation_id,
	it.sequence
from dbo.parcel par
    left outer join dbo.icts_transaction it
        on par.trans_id = it.trans_id
union
select
	par.oid,
	par.type,
	par.associative_state,
	par.status,
	par.reference,
	par.sch_qty,
	par.sch_qty_uom_code,
	par.location_code,
	par.facility_code,
	par.tank_code,
	par.cmdty_code,
	par.product_code,
	par.grade,
	par.quality,
	par.mot_type_code,
	par.estimated_date,
	par.sch_from_date,
	par.sch_to_date,
	par.creator_init,
	par.creation_date,
	par.last_update_by_init,
	par.last_update_date,
	par.forecast_num,
	par.trade_num,
	par.order_num,
	par.item_num,
	par.inv_num,
	par.shipment_num,
	par.alloc_num,
	par.alloc_item_num,
	par.nomin_qty,
	par.nomin_qty_uom_code,
	par.cmnt_num,
	par.t4_loc,
	par.t4_consignee,
	par.t4_tankage,
	par.gn_taric_code,
	par.custom_code,
	par.tariff_code,
	par.custom_status,
	par.excise_status,
	par.transmitall_type,
	par.inspector,
	par.latest_feed_name,
	par.send_to_sap,
	par.bookco_bank_acct_num,
	par.real_port_num,
	par.int_value,
	par.float_value,
	par.string_value,
	par.date_sent_to_al,
	par.resp_trans_id,
	par.trans_id,
	it.type,
	it.user_init,
	it.tran_date,
	it.app_name,
	it.workstation_id,
	it.sequence
from dbo.aud_parcel par
    left outer join dbo.icts_transaction it
        on par.trans_id = it.trans_id
GO
GRANT SELECT ON  [dbo].[v_parcel_all_rs] TO [next_usr]
GO
