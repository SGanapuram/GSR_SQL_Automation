SET QUOTED_IDENTIFIER OFF
GO
SET ANSI_NULLS ON
GO
 
CREATE view [dbo].[v_voucher_all_rs]
(
   voucher_num,
   voucher_status,
   voucher_type_code,
   voucher_cat_code,
   voucher_pay_recv_ind,
   acct_num,
   acct_instr_num,
   voucher_tot_amt,
   voucher_curr_code,
   credit_term_code,
   pay_method_code,
   pay_term_code,
   voucher_pay_days,
   voch_tot_paid_amt,
   voucher_creation_date,
   voucher_creator_init,
   voucher_auth_reqd_ind,
   voucher_auth_date,
   voucher_auth_init,
   voucher_eff_date,
   voucher_print_date,
   voucher_send_to_cust_date,
   voucher_book_date,
   voucher_mod_date,
   voucher_mod_init,
   voucher_writeoff_init,
   voucher_writeoff_date,
   voucher_cust_inv_amt,
   voucher_cust_inv_date,
   voucher_short_cmnt,
   cmnt_num,
   voucher_book_comp_num,
   voucher_book_curr_code,
   voucher_book_exch_rate,
   voucher_xrate_conv_ind,
   voucher_loi_num,
   voucher_arap_acct_code,
   voucher_send_to_arap_date,
   voucher_cust_ref_num,
   voucher_book_prd_date,
   voucher_paid_date,
   voucher_due_date,
   voucher_acct_name,
   voucher_book_comp_name,
   cash_date,
   trans_id,
   resp_trans_id,
   ref_voucher_num,
   custom_voucher_string,
   voucher_reversal_ind,
   voucher_hold_ind,
   max_line_num,
   book_comp_acct_bank_id,
   cp_acct_bank_id,
   voucher_inv_curr_code,
   voucher_inv_exch_rate,
   invoice_exch_rate_comment,
   cust_inv_recv_date,
   cust_inv_type_ind,
   special_bank_instr,
   revised_book_comp_bank_id,
   voucher_expected_pay_date,
   external_ref_key,
   cpty_inv_curr_code,
   voucher_approval_date,
   voucher_approval_init,
   sap_invoice_number,
   trans_type,
   trans_user_init,
   tran_date,
   app_name,
   workstation_id,
   sequence
)
as
select
   maintb.voucher_num,
   maintb.voucher_status,
   maintb.voucher_type_code,
   maintb.voucher_cat_code,
   maintb.voucher_pay_recv_ind,
   maintb.acct_num,
   maintb.acct_instr_num,
   maintb.voucher_tot_amt,
   maintb.voucher_curr_code,
   maintb.credit_term_code,
   maintb.pay_method_code,
   maintb.pay_term_code,
   maintb.voucher_pay_days,
   maintb.voch_tot_paid_amt,
   maintb.voucher_creation_date,
   maintb.voucher_creator_init,
   maintb.voucher_auth_reqd_ind,
   maintb.voucher_auth_date,
   maintb.voucher_auth_init,
   maintb.voucher_eff_date,
   maintb.voucher_print_date,
   maintb.voucher_send_to_cust_date,
   maintb.voucher_book_date,
   maintb.voucher_mod_date,
   maintb.voucher_mod_init,
   maintb.voucher_writeoff_init,
   maintb.voucher_writeoff_date,
   maintb.voucher_cust_inv_amt,
   maintb.voucher_cust_inv_date,
   maintb.voucher_short_cmnt,
   maintb.cmnt_num,
   maintb.voucher_book_comp_num,
   maintb.voucher_book_curr_code,
   maintb.voucher_book_exch_rate,
   maintb.voucher_xrate_conv_ind,
   maintb.voucher_loi_num,
   maintb.voucher_arap_acct_code,
   maintb.voucher_send_to_arap_date,
   maintb.voucher_cust_ref_num,
   maintb.voucher_book_prd_date,
   maintb.voucher_paid_date,
   maintb.voucher_due_date,
   maintb.voucher_acct_name,
   maintb.voucher_book_comp_name,
   maintb.cash_date,
   maintb.trans_id,
   null,
   maintb.ref_voucher_num,
   maintb.custom_voucher_string,
   maintb.voucher_reversal_ind,
   maintb.voucher_hold_ind,
   maintb.max_line_num,
   maintb.book_comp_acct_bank_id,
   maintb.cp_acct_bank_id,
   maintb.voucher_inv_curr_code,
   maintb.voucher_inv_exch_rate,
   maintb.invoice_exch_rate_comment,
   maintb.cust_inv_recv_date,
   maintb.cust_inv_type_ind,
   maintb.special_bank_instr,
   maintb.revised_book_comp_bank_id,
   maintb.voucher_expected_pay_date,
   maintb.external_ref_key,
   maintb.cpty_inv_curr_code,
   maintb.voucher_approval_date,
   maintb.voucher_approval_init,
   maintb.sap_invoice_number,
   it.type,
   it.user_init,
   it.tran_date,
   it.app_name,
   it.workstation_id,
   it.sequence
from dbo.voucher maintb
        left outer join dbo.icts_transaction it
           on maintb.trans_id = it.trans_id
union
select
   audtb.voucher_num,
   audtb.voucher_status,
   audtb.voucher_type_code,
   audtb.voucher_cat_code,
   audtb.voucher_pay_recv_ind,
   audtb.acct_num,
   audtb.acct_instr_num,
   audtb.voucher_tot_amt,
   audtb.voucher_curr_code,
   audtb.credit_term_code,
   audtb.pay_method_code,
   audtb.pay_term_code,
   audtb.voucher_pay_days,
   audtb.voch_tot_paid_amt,
   audtb.voucher_creation_date,
   audtb.voucher_creator_init,
   audtb.voucher_auth_reqd_ind,
   audtb.voucher_auth_date,
   audtb.voucher_auth_init,
   audtb.voucher_eff_date,
   audtb.voucher_print_date,
   audtb.voucher_send_to_cust_date,
   audtb.voucher_book_date,
   audtb.voucher_mod_date,
   audtb.voucher_mod_init,
   audtb.voucher_writeoff_init,
   audtb.voucher_writeoff_date,
   audtb.voucher_cust_inv_amt,
   audtb.voucher_cust_inv_date,
   audtb.voucher_short_cmnt,
   audtb.cmnt_num,
   audtb.voucher_book_comp_num,
   audtb.voucher_book_curr_code,
   audtb.voucher_book_exch_rate,
   audtb.voucher_xrate_conv_ind,
   audtb.voucher_loi_num,
   audtb.voucher_arap_acct_code,
   audtb.voucher_send_to_arap_date,
   audtb.voucher_cust_ref_num,
   audtb.voucher_book_prd_date,
   audtb.voucher_paid_date,
   audtb.voucher_due_date,
   audtb.voucher_acct_name,
   audtb.voucher_book_comp_name,
   audtb.cash_date,
   audtb.trans_id,
   audtb.resp_trans_id,
   audtb.ref_voucher_num,
   audtb.custom_voucher_string,
   audtb.voucher_reversal_ind,
   audtb.voucher_hold_ind,
   audtb.max_line_num,
   audtb.book_comp_acct_bank_id,
   audtb.cp_acct_bank_id,
   audtb.voucher_inv_curr_code,
   audtb.voucher_inv_exch_rate,
   audtb.invoice_exch_rate_comment,
   audtb.cust_inv_recv_date,
   audtb.cust_inv_type_ind,
   audtb.special_bank_instr,
   audtb.revised_book_comp_bank_id,
   audtb.voucher_expected_pay_date,
   audtb.external_ref_key,
   audtb.cpty_inv_curr_code,
   audtb.voucher_approval_date,
   audtb.voucher_approval_init,
   audtb.sap_invoice_number,
   it.type,
   it.user_init,
   it.tran_date,
   it.app_name,
   it.workstation_id,
   it.sequence
from dbo.aud_voucher audtb
        left outer join dbo.icts_transaction it
           on audtb.trans_id = it.trans_id
GO
GRANT SELECT ON  [dbo].[v_voucher_all_rs] TO [admin_group]
GO
GRANT SELECT ON  [dbo].[v_voucher_all_rs] TO [next_usr]
GO
GRANT SELECT ON  [dbo].[v_voucher_all_rs] TO [public]
GO
EXEC sp_addextendedproperty N'SymphonyProduct', N'OIL', 'SCHEMA', N'dbo', 'VIEW', N'v_voucher_all_rs', NULL, NULL
GO
